(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tuwenPromoting/detail/detail"],{"369e":function(t,e,a){"use strict";a.r(e);var i=a("c807"),n=a("3c72");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("e061");var s,u=a("f0c5"),l=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"83a30a76",null,!1,i["a"],s);e["default"]=l.exports},"37fb":function(t,e,a){"use strict";a.r(e);var i=a("9755"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"3c72":function(t,e,a){"use strict";a.r(e);var i=a("f8bf"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"4f38":function(t,e,a){"use strict";a.r(e);var i=a("be8d"),n=a("37fb");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("a5dc");var s,u=a("f0c5"),l=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"688aca9f",null,!1,i["a"],s);e["default"]=l.exports},5696:function(t,e,a){"use strict";(function(t){a("2f26"),a("921b");i(a("66fd"));var e=i(a("4f38"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"73ce":function(t,e,a){},9755:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("0135")),o=s(a("369e"));function s(t){return t&&t.__esModule?t:{default:t}}var u,l,r,d,c,f=function(){return a.e("components/swiper-pic/swiper-pic").then(a.bind(null,"ebf3"))},h=function(){return a.e("components/uni-popup/uni-popup").then(a.bind(null,"ce26"))},p=function(){return a.e("components/share/share").then(a.bind(null,"d09b"))},m={data:function(){return{cancelShow:!1,showSwiperValue:!1,showUpload:!1,btnArray:"",btnIndex:0,checkValue:!0,showAdd:!0,flag:!1,detailData:[],upperLimit:0,isLimit:!1,upPic:"",upPicList:[],IMGLIST:[],type:"",manyShow:!1,manyShow2:!1,manyShow3:!1}},methods:{showSwiper:function(){this.showSwiperValue=!this.showSwiperValue,this.flag=!this.flag,t("log",this.showSwiperValue," at pages\\tuwenPromoting\\detail\\detail.vue:97")},closeSwiper:function(){this.showSwiperValue=!this.showSwiperValue,this.flag=!this.flag},closeAlert:function(){this.cancelShow=!1},goHeadAd:function(t){plus.runtime.openURL(t)},getTask:function(e){t("log",this.$store.state.userInfo.status," at pages\\tuwenPromoting\\detail\\detail.vue:117"),this.$store.state.isLogin?(t("log",this.btnIndex," at pages\\tuwenPromoting\\detail\\detail.vue:123"),1==this.btnIndex?(t("log",this.btnIndex," at pages\\tuwenPromoting\\detail\\detail.vue:126"),t("log",l," at pages\\tuwenPromoting\\detail\\detail.vue:127"),t("log",this.$store.state.isLogin," at pages\\tuwenPromoting\\detail\\detail.vue:128"),u=this,i.request({url:this.websiteUrl+"/api/task/recieve",method:"GET",header:{Authorization:d},data:{esaid:l,userId:r},success:function(e){t("log",e,11111111111," at pages\\tuwenPromoting\\detail\\detail.vue:141"),601==e.data.code?(i.showToast({title:"请去审核账户！",mask:!0}),i.redirectTo({url:"/pages/mine/auditPage",animationType:"slide-in-right",animationDuration:300})):705==e.data.code?(plus.nativeUI.toast(e.data.msg),u.btnIndex=2):200==e.data.code&&(u.showUpload=!0,i.showToast({title:"领取成功",mask:!0}),u.btnArray="提交审核",u.btnIndex=2)}})):2==this.btnIndex&&(t("log","点击了提交审核"," at pages\\tuwenPromoting\\detail\\detail.vue:176"),this.submitAudit())):(this.cancelShow=!0,t("log","未登录"," at pages\\tuwenPromoting\\detail\\detail.vue:186"))},copy:function(){var t=this.detailData.esaDescribe1;i.setClipboardData({data:this.strFormat(t),success:function(){i.showToast({title:"复制成功",mask:!0}),setTimeout(function(){i.hideToast()},2e3)}})},strFormat:function(t){return t.replace(/<br\s*\/?>/gi,"\r\n")},hidePopup:function(){this.type=""},share:function(){this.type="bottom_share"},successShare:function(){i.showToast({title:"分享成功！！！",mask:!0})},failShare:function(){i.showToast({title:"分享失败！！！",mask:!0})},savePic:function(){var e=[];if(null!=u.detailData["imgList"]&&1==u.detailData["imgList"].length&&u.detailData["imgList"][0].length>=1){var a=!0,i=!1,o=void 0;try{for(var s,l=this.detailData["imgList"][0][Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var r=s.value;e.push(r.linkComment)}}catch(g){i=!0,o=g}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}else{var d=!0,c=!1,f=void 0;try{for(var h,p=this.detailData["imgList"][Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var m=h.value;e.push(m[0].linkComment)}}catch(g){c=!0,f=g}finally{try{d||null==p.return||p.return()}finally{if(c)throw f}}}n.default.downloadSaveFiles({urls:e,success:function(t){},fail:function(e){t("info","下载失败"," at pages\\tuwenPromoting\\detail\\detail.vue:275")}})},upload:function(){var t=this;i.chooseImage({success:function(e){var a=e.tempFilePaths;i.uploadFile({url:t.websiteUrl+"/api/file/uploadFile",filePath:a[0],name:"file",header:{Authorization:d},success:function(t){i.showToast({title:"上传成功",mask:!0}),u.upPic=JSON.parse(t.data).imgurl,u.IMGLIST.push(u.upPic),u.checkValue=!1}})}})},submitAudit:function(){0==u.IMGLIST.length?plus.nativeUI.toast("请上传需要审核的照片！！！"):i.request({url:this.websiteUrl+"/api/comnet/audit",method:"POST",header:{Authorization:d},data:{extendId:c,imgList:u.IMGLIST},success:function(e){t("log",e.data," at pages\\tuwenPromoting\\detail\\detail.vue:325"),i.showToast({title:"提交审核成功",mask:!0}),u.showUpload=!0,u.checkValue=!1,1==e.data.status&&(u.btnArray=e.data.statusStr,u.btnIndex=3)}})}},components:{SwiperPic:f,hFormAlert:o.default,uniPopup:h,sharePage:p},onLoad:function(e){r=this.$store.state.userInfo.userId,d=this.$store.state.userInfo.token,u=this,l=e.esaId,t("log",l," at pages\\tuwenPromoting\\detail\\detail.vue:355"),this.$store.state.isLogin?(t("log","已经登录"," at pages\\tuwenPromoting\\detail\\detail.vue:358"),i.request({url:this.websiteUrl+"/api/comnet/info/"+l,method:"GET",data:{userId:r},success:function(e){if(u.detailData=e.data.data,null!=u.detailData["imgList"]&&1==u.detailData["imgList"].length&&9==u.detailData["imgList"][0].length?u.manyShow=!0:null!=u.detailData["imgList"]&&1==u.detailData["imgList"].length&&1==u.detailData["imgList"][0].length?u.manyShow2=!0:null!=u.detailData["imgList"]&&1<u.detailData["imgList"].length<=6&&(u.manyShow3=!0),c=u.detailData.extendInfoId,t("log",u.detailData," at pages\\tuwenPromoting\\detail\\detail.vue:377"),-1==u.detailData.status){if(u.upperLimit=u.detailData.esaUsedCount,u.upperLimit>=u.detailData.esaTotalCount)return u.isLimit=!0,void(u.btnArray="任务已达上限");u.btnIndex=1,u.btnArray="领取任务"}0==u.detailData.status&&(u.btnIndex=2,u.btnArray=u.detailData.statusStr,u.showUpload=!0),1==u.detailData.status&&(u.btnIndex=3,u.btnArray=u.detailData.statusStr,u.showUpload=!0,u.checkValue=!1,u.showAdd=!1,u.upPicList=u.detailData.imgs),2==u.detailData.status&&(u.btnArray=u.detailData.statusStr,u.showUpload=!1,u.checkValue=!0,u.showAdd=!1,u.detailData.status,u.btnIndex=1,u.btnArray="领取任务"),3==u.detailData.status&&(u.btnArray=u.detailData.statusStr,u.showUpload=!0,u.checkValue=!1)}})):(t("log","未登录"," at pages\\tuwenPromoting\\detail\\detail.vue:447"),i.request({url:this.websiteUrl+"/api/comnet/info/"+l,method:"GET",success:function(t){if(u.detailData=t.data.data,null!=u.detailData["imgList"]&&1==u.detailData["imgList"].length&&9==u.detailData["imgList"][0].length?u.manyShow=!0:null!=u.detailData["imgList"]&&1==u.detailData["imgList"].length&&1==u.detailData["imgList"][0].length?u.manyShow2=!0:null!=u.detailData["imgList"]&&1<u.detailData["imgList"].length<=6&&(u.manyShow3=!0),-1==u.detailData.status){if(u.upperLimit=u.detailData.esaUsedCount,u.upperLimit>=u.detailData.esaTotalCount)return u.isLimit=!0,void(u.btnArray="任务已达上限");u.btnIndex=1,u.btnArray="领取任务"}}}))},onShow:function(){}};e.default=m}).call(this,a("0de9")["default"],a("6e42")["default"])},a5dc:function(t,e,a){"use strict";var i=a("73ce"),n=a.n(i);n.a},be8d:function(t,e,a){"use strict";var i={"uni-popup":()=>a.e("components/uni-popup/uni-popup").then(a.bind(null,"ce26"))},n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return i})},c807:function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return i})},e061:function(t,e,a){"use strict";var i=a("f2f0"),n=a.n(i);n.a},f2f0:function(t,e,a){},f8bf:function(t,e,a){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String,default:"网赚登录"}},data:function(){return{maskValue:!0,inviteCode:""}},onLoad:function(){var e=this;t.getStorage({key:"openinstallInfo",success:function(t){a("log","ok"," at components\\h-form-alert\\h-form-alert.vue:37"),e.inviteCode=JSON.parse(JSON.parse(t.data).bindData).inviteCode}})},methods:{closeMask:function(){this.$emit("closeEvent")},weixinlogin:function(){var e=this;t.login({provider:"weixin",success:function(a){t.getUserInfo({provider:"weixin",success:function(t){e.toWeixinLogin(a,t)}})}})},toWeixinLogin:function(e,a){var i=this,n={openid:e.authResult.openid,nickname:a.userInfo.nickName,headimgurl:a.userInfo.avatarUrl,accessToken:e.authResult.access_token,refreshToken:e.authResult.refresh_token,inviteCode:i.inviteCode};t.request({url:this.websiteUrl+"/api/user/weixin",method:"POST",data:n,success:function(e){200==e.data.code?(i.$store.commit("login",e.data.user),t.switchTab({url:"/pages/tarbar/mine/mine",animationType:"slide-in-right"})):plus.nativeUI.toast(e.data.msg)},fail:function(){},complete:function(){}})},iphonelogin:function(){t.navigateTo({url:"/pages/mine/login",animationType:"slide-in-right"})}}};e.default=i}).call(this,a("6e42")["default"],a("0de9")["default"])}},[["5696","common/runtime","common/vendor"]]]);